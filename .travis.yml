language: c
sudo: required
env:
  - OCAML_VERSION=4.07

cache:
  directories:
    - $HOME/.opam

before_install:
  - bash -ex .travis-ocaml.sh
  - opam install -y ppx_deriving
  - opam install -y ocamlfind 
  - opam install -y ocamlbuild
  - opam install -y batteries 
  - opam install -y ANSIterminal 
  - travis_wait opam install -y z3 
  - ln -s $HOME/.opam/ocaml-base-compiler.4.07.1/lib/z3/libz3.so $HOME/.opam/ocaml-base-compiler.4.07.1/lib/stublibs
script:
  - opam config exec -- make
  - opam config exec -- make test
  - opam config exec -- make eval

